@inherits DotNetNuke.Web.Mvc.Framework.DnnWebViewPage<EduVolumeDirectoryViewModel>
@using System.Collections.Generic
@using DotNetNuke.Collections
@using DotNetNuke.Web.Mvc.Helpers
@using DotNetNuke.Web.Client.ClientResourceManagement
@using DotNetNuke.Framework
@using DotNetNuke.Common
@using DotNetNuke.Common.Utilities
@using R7.University.Components
@using R7.University.ModelExtensions
@using R7.University.ViewModels
@using R7.University.EduProgramProfiles.ViewModels
@{
    ClientResourceManager.RegisterStyleSheet (Dnn.DnnPage, "~/DesktopModules/MVC/R7.University/R7.University/css/module.css");
}
@if (Model.IsEmpty) {
    if (Dnn.ModuleContext.IsEditable) {
        <p class="dnnFormMessage dnnFormInfo">@Dnn.LocalizeString("NothingToDisplay.Text")</p>
    }
    else {
        var containerControl = Globals.FindControlRecursiveDown (Dnn.DnnPage, "ctr" + Dnn.ModuleContext.ModuleId);
        containerControl.Visible = false;
    }
}
else {
    <div class="table-responsive">
        <table class="table table-striped table-bordered table-hover u8y-eduvolume-directory">
            <thead>
			    <tr>
    			    @if (Dnn.ModuleContext.IsEditable) {
                        <th scope="col" rowspan="2"></th>
                    }
    			    <th scope="col" rowspan="2"></th>
    			    <th scope="col" rowspan="2"></th>
    			    <th scope="col" rowspan="2"></th>
    			    <th scope="col" rowspan="2"></th>
				    <th scope="col" rowspan="2"></th>
				    <th scope="col" rowspan="2"></th>
    			    <th scope="col" colspan="6"></th>
				</tr>
			    <tr>
				    <th scope="col">1</th>
                    <th scope="col">2</th>
                    <th scope="col">3</th>
                    <th scope="col">4</th>
				    <th scope="col">5</th>
                    <th scope="col">6</th>
			    </tr>
			</thead>
    	    <tbody>
        	    @foreach (var ev in Model.EduVolumeViewModels) {
                    var eppfy = ev.EduProgramProfileFormYear;
                    <tr class="@ev.CssClass">
				        @if (Dnn.ModuleContext.IsEditable) {
                            <td><a href="@ev.EditUrl"><img src="@UniversityIcons.Edit" /></a></td>
                        }
        			    <td>@eppfy.EduProgramProfile.EduProgram.Code</td>
				        <td>@eppfy.EduProgramProfile.EduProgram.Title</td>
				        <td>@eppfy.EduProgramProfile.ProfileCode</td>
                        <td>@eppfy.EduProgramProfile.ProfileTitle</td>
				        <td>@eppfy.Year.Year</td>
				        <td>@eppfy.EduForm.Title</td>
                        <td>@ev.Year1Cu</td>
				        <td>@ev.Year2Cu</td>
				        <td>@ev.Year3Cu</td>
				        <td>@ev.Year4Cu</td>
				        <td>@ev.Year5Cu</td>
				        <td>@ev.Year6Cu</td>
        			</tr>
                }
    		</tbody>
        </table>
	</div>
}